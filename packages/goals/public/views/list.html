<section data-ng-controller="GoalsController" data-ng-init="find({invited: global.user._id})">
    <ul class="goals unstyled">
        <li data-ng-repeat="goal in goals">
            <span>{{goal.user.name}}</span>
            <h2>
                <a data-ng-href="#!/goals/{{goal._id}}">{{goal.title}}</a>
            </h2>
            <span data-ng-if="hasAuthorization(goal)">
                <a class="btn" href="/#!/goals/{{goal._id}}/edit">
                    <i class="glyphicon glyphicon-edit"></i>
                </a>
                <a class="btn" data-ng-click="remove(goal);">
                    <i class="glyphicon glyphicon-trash"></i>
                </a>
            </span>
            <span data-ng-if="!hasAuthorization(goal)">
                <a class="btn" data-ng-click="join(goal);">
                    <i class="glyphicon glyphicon-plus"></i>
                </a>
            </span>
        </li>
    </ul>
    <h1 data-ng-hide="!goals || goals.length">No goals yet. <br> Why don't you <a href="/#!/goals/create">create one</a>?</h1>
</section>
